# 4장.엑세스 회선을 통해 인터넷의 내부로!
+ 인터넷의 실체는 한 개의 조직이 운영 관리하는 단일 네트워크가 아니라 다수의 프로바이더의 네트워크를 서로 접속한 것이다.
그리고 ADSL, FTTH의 엑세스 회선은 사용자가 계약한 프로바이더의 설비에 연결되어 있는데 이 설비를 POP라 하며
인터넷의 입구인 라우터는 여기에 설치가 되어 있다.
+ 여기서 프로바이더란 ISP(Internet Service Provider)를 의미하며 국내에는 KT, SK, LG 유플러스 등이 있다.
+ 인터넷의 라우터는 최종 목적지가 동일 프로바이더인지, 다른 프로바이더인지 상관없이 모든 경로가 등록되어 있다. 따라서
라우팅 테이블에서 다음 중계 대상을 찾아 패킷을 보내는 동작을 반복하면 지구 반대편에 패킷을 보내는 것도 가능하다.

# 5장. 서버측의 LAN 앞에는 무엇이 있을까?
## 웹 서버의 설치 장소
+ 인터넷을 빠져나와 서버에 도착할 때까지의 여정은 서버의 설치 장소에 따라 다르다. 사내에 웹 서버를 설치하는 경우는
보통 앞 단에 방화벽을 두어 특정 애플리케이션에 엑세스 하는 패킷만 통과 시키고 그 외의 패킷은 차단 시킨다.
+ 회사 안에 서버를 설치하지 않고 데이터센터에 서버를 설치하거나 프로바이더가 소유하는 서버를 빌려쓰는 형태로 운영하는 경우도 있다.

## 방화벽의 원리와 동작
+ 송/수신처 IP 주소, 송/수신처 포트 번호 TCP 컨트롤 비트를 조건으로 사용하고 애플리케이션의 종류, 엑세스 방향등을 
판별하는 방법으로 패킷을 필터링한다.

## 여러 서버에 리퀘스트를 분배하는 서버의 부하 분산
+ 다수의 사용자가 집중적으로 액세스 하면 서버 한 대로는 따라잡지 못할 수도 있다. 이때는 복수의 서버를 사용하여 처리를 분담하는
방법으로 서버 한 대당 처리량을 줄이는 것이 효과적이며 이를 분산 처리라고 한다.
+ 이를 위해 부하 분산장치 또는 로드밸런서로 불리우는 기기가 고안되었다. 이를 사용할 때는 먼저 웹 서버 대신 DNS 서버에 등록한다.
+ 로드밸런서에 웹 서버가 연상되는 www.cyber.co.kr과 같은 이름을 붙이고 해당 IP를 DNS 서버에 등록한다. 그 이후, 
클라이언트는 로드밸런서가 웹 서버라고 생각하여 로드밸런서에 요청을 전달한다.
+ 로드밸런서는 어느 웹 서버에 요청을 전달할지 판단해야 하는데, 이 요청이 일련의 요청인지 관계가 없는 요청인지 판단해야 한다.
즉 A 서버와 대화가 복수페이지에 걸쳐 있는 요청은 웹 서버의 부하에 관계 없이 이전 웹 서버에게 요청을 전달해야 한다.
+ 전 후 관계를 판단하기 위해, 데이터에 전후 관계를 나타내는 정보를 부가하거나, HTTP 사양을 확장하여 전후 관계를 판단하기 위한
헤더 필드를 부가하는 방법이다. 로드밸런서는 이러한 정보를 조사하여 일련의 동작이라면 이전과 같은 웹 서버에 요청을 전달하고 
그렇지 않으면 부하가 적은 웹 서버에 요청을 전송하도록 동작한다.

## 캐시 서버를 이용한 서버의 부하 분산
+ 같은 기능의 여러 서버를 설치하는 것이 아니라 다른 방법으로 부하 분산을 하는 방법이 있다. 이중 하나가 캐시 서버를 사용하는 방법























